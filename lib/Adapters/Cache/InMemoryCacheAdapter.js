'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.InMemoryCacheAdapter = undefined;

var _LRUCache = require('./LRUCache');

class InMemoryCacheAdapter {

  constructor(ctx) {
    this.cache = new _LRUCache.LRUCache(ctx);
  }

  get(key) {
    const record = this.cache.get(key);
    if (record === null) {
      return Promise.resolve(null);
    }
    return Promise.resolve(record);
  }

  put(key, value, ttl) {
    this.cache.put(key, value, ttl);
    return Promise.resolve();
  }

  del(key) {
    this.cache.del(key);
    return Promise.resolve();
  }

  clear() {
    this.cache.clear();
    return Promise.resolve();
  }
}

exports.InMemoryCacheAdapter = InMemoryCacheAdapter;
exports.default = InMemoryCacheAdapter;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9DYWNoZS9Jbk1lbW9yeUNhY2hlQWRhcHRlci5qcyJdLCJuYW1lcyI6WyJJbk1lbW9yeUNhY2hlQWRhcHRlciIsImNvbnN0cnVjdG9yIiwiY3R4IiwiY2FjaGUiLCJnZXQiLCJrZXkiLCJyZWNvcmQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInB1dCIsInZhbHVlIiwidHRsIiwiZGVsIiwiY2xlYXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFTyxNQUFNQSxvQkFBTixDQUEyQjs7QUFFaENDLGNBQVlDLEdBQVosRUFBaUI7QUFDZixTQUFLQyxLQUFMLEdBQWEsdUJBQWFELEdBQWIsQ0FBYjtBQUNEOztBQUVERSxNQUFJQyxHQUFKLEVBQVM7QUFDUCxVQUFNQyxTQUFTLEtBQUtILEtBQUwsQ0FBV0MsR0FBWCxDQUFlQyxHQUFmLENBQWY7QUFDQSxRQUFJQyxXQUFXLElBQWYsRUFBcUI7QUFDbkIsYUFBT0MsUUFBUUMsT0FBUixDQUFnQixJQUFoQixDQUFQO0FBQ0Q7QUFDRCxXQUFPRCxRQUFRQyxPQUFSLENBQWdCRixNQUFoQixDQUFQO0FBQ0Q7O0FBRURHLE1BQUlKLEdBQUosRUFBU0ssS0FBVCxFQUFnQkMsR0FBaEIsRUFBcUI7QUFDbkIsU0FBS1IsS0FBTCxDQUFXTSxHQUFYLENBQWVKLEdBQWYsRUFBb0JLLEtBQXBCLEVBQTJCQyxHQUEzQjtBQUNBLFdBQU9KLFFBQVFDLE9BQVIsRUFBUDtBQUNEOztBQUVESSxNQUFJUCxHQUFKLEVBQVM7QUFDUCxTQUFLRixLQUFMLENBQVdTLEdBQVgsQ0FBZVAsR0FBZjtBQUNBLFdBQU9FLFFBQVFDLE9BQVIsRUFBUDtBQUNEOztBQUVESyxVQUFRO0FBQ04sU0FBS1YsS0FBTCxDQUFXVSxLQUFYO0FBQ0EsV0FBT04sUUFBUUMsT0FBUixFQUFQO0FBQ0Q7QUEzQitCOztRQUFyQlIsb0IsR0FBQUEsb0I7a0JBOEJFQSxvQiIsImZpbGUiOiJJbk1lbW9yeUNhY2hlQWRhcHRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TFJVQ2FjaGV9IGZyb20gJy4vTFJVQ2FjaGUnO1xuXG5leHBvcnQgY2xhc3MgSW5NZW1vcnlDYWNoZUFkYXB0ZXIge1xuXG4gIGNvbnN0cnVjdG9yKGN0eCkge1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgTFJVQ2FjaGUoY3R4KVxuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuY2FjaGUuZ2V0KGtleSk7XG4gICAgaWYgKHJlY29yZCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWNvcmQpO1xuICB9XG5cbiAgcHV0KGtleSwgdmFsdWUsIHR0bCkge1xuICAgIHRoaXMuY2FjaGUucHV0KGtleSwgdmFsdWUsIHR0bCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgZGVsKGtleSkge1xuICAgIHRoaXMuY2FjaGUuZGVsKGtleSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbk1lbW9yeUNhY2hlQWRhcHRlcjtcbiJdfQ==